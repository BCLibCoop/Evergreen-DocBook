<?xml version="1.0" encoding="utf-8"?>
<section xml:id="lsa-receipt" xmlns="http://docbook.org/ns/docbook" version="5.0" xml:lang="EN"
   xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink">

   <info>
      <title>Receipt Template Editor</title>
	<indexterm><primary>receipt template editor</primary></indexterm>
   </info>

   <para>This tip sheet will show you how to customize your receipts.  This example will walk you
      through how to customize the receipt that is printed on checkout.  </para>

   <para>Receipt templates are saved on the workstation, but it is possible to export the templates
      to import to other workstations.  </para>

<procedure>

   <step>
               <para>Select <menuchoice><guimenu>Admin (-)</guimenu><guisubmenu>Local Administration</guisubmenu><guimenuitem>Receipt Template Editor</guimenuitem></menuchoice>.  </para>
   </step>


   <step>
     
         <para>Select the <guimenuitem>checkout</guimenuitem> template from the dropdown menu.
             </para>
   </step>


   <step>
         <para>You can edit the <guilabel>Header</guilabel>, <guilabel>Line
               Item</guilabel> or <guilabel>Footer</guilabel> on the right hand side.  </para>  
   </step>

  
        <step><para>In the upper right hand corner you can see the available macros by clicking on the
               <guibutton>Macros</guibutton> button.  A macro prints a real value from the database.
            The macros that are available
            vary slightly between types of receipt templates (i.e. bills, holds, items). </para>
    </step>

   
       <step><informalfigure>  <para>Here are the available macros for an item receipt, like a checkout receipt.  </para>
       <para>
      <mediaobject>
         <alt>screenshot of staff client</alt>
         <imageobject role="html">
            <imagedata scalefit="0" fileref="../media/receipt-5.jpg"/>
         </imageobject>
         <imageobject role="fo">
            <imagedata scale="80" fileref="../media/receipt-5.jpg"/>
         </imageobject>
      </mediaobject>
   </para></informalfigure></step>
   
  </procedure>
   
   <simplesect>
      <info>
         <title>Adding an image</title>
      </info>

<procedure>    
           <step><para>You can edit the <guilabel>Header</guilabel> to have an image.  This is the default checkout <guilabel>Header</guilabel>.
                </para>
     </step>

     
            <step><para>Using HTML tags you can insert a link to an image that exists on the web.  The
               link will end in <emphasis>.jpg</emphasis> or possibly <emphasis>.gif</emphasis>.  To
               get this link you can right click on the image and choose <guimenuitem>Copy Image
                  Location</guimenuitem> (<application>Firefox</application>).  </para>
        
<para>If you are using <application>Internet Explorer</application> right click and select <guimenuitem>Save Picture
            As…</guimenuitem>
      </para>

  </step>

           <step> <para>Enter the URL of the
               link for the image that you just copied off a website. </para>
         
<para>By clicking outside the <guilabel>Header</guilabel> box the <guilabel>Preview</guilabel> will update to reflect the edit you just
         made.  </para>

      </step>
  
           <step><para>If the image runs into the text, add a &lt;br/&gt; after the
               image to add a line break.</para>
     </step></procedure>   
      <tip><para>You may use most HTML tags.  See <link xlink:title="http://www.w3schools.com/html/" xlink:href="http://www.w3schools.com/html/">http://www.w3schools.com/html/</link> for more information on HTML tags.  </para></tip>
   </simplesect>
   <simplesect>
      <info>
         <title>Line Item</title>
      </info>

          <informalfigure>  <para>This is what the default <guilabel>Line Item</guilabel> looks like:</para>
        
      <para>
         <mediaobject>
            <alt>screenshot of staff client</alt>
            <imageobject role="html">
               <imagedata scalefit="1" fileref="../media/receipt-11.jpg"/>
            </imageobject>
            <imageobject role="fo">
               <imagedata scalefit="1" width="100%" contentdepth="100%"
                  fileref="../media/receipt-11.jpg"/>
            </imageobject>
         </mediaobject>
      </para></informalfigure>

      <para>In this example, the macro %barcode% prints the item barcodes of the books that were
         checked out.  The macro %due_date% prints the due date for each item that was checked out.
          </para>

      <para>In this example, we will not make any changes to the <guilabel>Line Item</guilabel></para>

      
     <note> <para>The due date can only be printed in the YYYY-MM-DD format. </para></note>

   </simplesect>
   <simplesect>
      <info>
         <title>Editing the footer</title>
      </info>

     
<procedure>          <step><informalfigure>  <para>This is what the default <guilabel>Footer</guilabel> looks like:</para>
        
      <para>
         <mediaobject>
            <alt>screenshot of staff client</alt>
            <imageobject role="html">
               <imagedata scalefit="1" fileref="../media/receipt-12.jpg"/>
            </imageobject>
            <imageobject role="fo">
               <imagedata scalefit="1" width="100%" contentdepth="100%"
                  fileref="../media/receipt-12.jpg"/>
            </imageobject>
         </mediaobject>
      </para></informalfigure></step>

     
            <step><informalfigure><para>Remove the “You were helped by %STAFF_FIRSTNAME% &lt;br/&gt;”.  As many
               libraries use a generic circulation login on the circulation desk, the “You were
               helped by…” note isn’t meaningful.  </para>
        
      <para>
         <mediaobject>
            <alt>screenshot of staff client</alt>
            <imageobject role="html">
               <imagedata scalefit="1" fileref="../media/receipt-13.jpg"/>
            </imageobject>
            <imageobject role="fo">
               <imagedata scalefit="1" width="100%" contentdepth="100%"
                  fileref="../media/receipt-13.jpg"/>
            </imageobject>
         </mediaobject>
      </para></informalfigure></step>

          <step><informalfigure>  <para>Once you have the checkout template how you want it, click <guibutton>Save Locally</guibutton> to save
               the template to your computer.  </para>
       

      <para>
         <mediaobject>
            <alt>screenshot of staff client</alt>
            <imageobject>
               <imagedata scalefit="0" fileref="../media/receipt-15.jpg"/>
            </imageobject>
            
         </mediaobject>
      </para></informalfigure></step>

     
            <step><informalfigure><para>Click OK.</para>
       

      <para>
         <mediaobject>
            <alt>screenshot of staff client</alt>
            <imageobject role="html">
               <imagedata scalefit="0" fileref="../media/receipt-16.png"/>
            </imageobject>
            <imageobject role="fo">
               <imagedata scale="80" fileref="../media/receipt-16.png"/>
            </imageobject>
         </mediaobject>
      </para></informalfigure></step></procedure>
      
     <tip> <para>The footer is a good place to advertise upcoming library programs or events.  </para></tip>
      
   </simplesect>
   <simplesect>
      <info>
         <title>Exporting templates</title>
      </info>

      <para>As you can only save a template on to the computer you are working on you will need to
         export the template if you have more than one computer that prints out receipts (i.e., more
         than one computer on the circulation desk, or another computer in the workroom that you use
         to checkin items or capture holds with).</para>

      
<procedure>           <step><informalfigure> <para>Click on <guilabel>Export</guilabel>.  </para>
        

      <para>
         <mediaobject>
            <alt>screenshot of staff client</alt>
            <imageobject role="html">
               <imagedata scalefit="0" fileref="../media/receipt-17.jpg"/>
            </imageobject>
            <imageobject role="fo">
               <imagedata scale="80" fileref="../media/receipt-17.jpg"/>
            </imageobject>
         </mediaobject>
      </para>
</informalfigure></step>
     
     
     
            <step><informalfigure><para>Select the location to save the template to, name the template, and click <guibutton>Save</guibutton>.
                </para>
              <para>
         <mediaobject>
            <alt>screenshot of staff client</alt>
            <imageobject role="html">
               <imagedata scalefit="0" fileref="../media/receipt-18.jpg"/>
            </imageobject>
            <imageobject role="fo">
               <imagedata scale="80" fileref="../media/receipt-18.jpg"/>
            </imageobject>
         </mediaobject>
      </para>
</informalfigure></step>
      
      
      
            <step><informalfigure><para>Click <guibutton>OK</guibutton>.  </para>
               <para>
         <mediaobject>
            <alt>screenshot of staff client</alt>
            <imageobject role="html">
               <imagedata scalefit="0" fileref="../media/receipt-19.jpg"/>
            </imageobject>
            <imageobject role="fo">
               <imagedata scale="80" fileref="../media/receipt-19.jpg"/>
            </imageobject>
         </mediaobject>
      </para></informalfigure></step></procedure>

   </simplesect>
   <simplesect>
      <info>
         <title>Importing Templates</title>
      </info>
<procedure>
     
           <step><informalfigure> <para>Click <guibutton>Import</guibutton>.</para>
        
      <para>
         <mediaobject>
            <alt>screenshot of staff client</alt>
            <imageobject role="html">
               <imagedata scalefit="0" fileref="../media/receipt-20.jpg"/>
            </imageobject>
            <imageobject role="fo">
               <imagedata scale="80" fileref="../media/receipt-20.jpg"/>
            </imageobject>
         </mediaobject>
      </para></informalfigure></step>

      
            <step><informalfigure><para>Navigate to and select the template that you want to import.  Click <guibutton>Open</guibutton>. </para>
        
      <para>
         <mediaobject>
            <alt>screenshot of staff client</alt>
            <imageobject role="html">
               <imagedata scalefit="0" fileref="../media/receipt-21.jpg"/>
            </imageobject>
            <imageobject role="fo">
               <imagedata scale="80" fileref="../media/receipt-21.jpg"/>
            </imageobject>
         </mediaobject>
      </para></informalfigure></step>

      
         <step><informalfigure>   <para>Click <guibutton>OK</guibutton>.</para>
        
      <para>
         <mediaobject>
            <alt>screenshot of staff client</alt>
            <imageobject role="html">
               <imagedata scalefit="0" fileref="../media/receipt-22.jpg"/>
            </imageobject>
            <imageobject role="fo">
               <imagedata scale="80" fileref="../media/receipt-22.jpg"/>
            </imageobject>
         </mediaobject>
      </para></informalfigure></step>

    
    
            <step><informalfigure><para>Click <guibutton>Save Locally</guibutton>.</para>
             <para>
         <mediaobject>
            <alt>screenshot of staff client</alt>
            <imageobject role="html">
               <imagedata scalefit="0" fileref="../media/receipt-23.jpg"/>
            </imageobject>
            <imageobject role="fo">
               <imagedata scale="80" fileref="../media/receipt-23.jpg"/>
            </imageobject>
         </mediaobject>
      </para></informalfigure></step>

    
            <step><informalfigure><para>Click <guibutton>OK</guibutton>.</para>
        

      <para>
         <mediaobject>
            <alt>screenshot of staff client</alt>
            <imageobject role="html">
               <imagedata scalefit="0" fileref="../media/receipt-24.jpg"/>
            </imageobject>
            <imageobject role="fo">
               <imagedata scale="80" fileref="../media/receipt-24.jpg"/>
            </imageobject>
         </mediaobject>
      </para></informalfigure></step></procedure>
   </simplesect>
</section>
